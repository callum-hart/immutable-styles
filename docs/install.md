# Install

Immutable styles can be integrated with Webpack using the [Webpack plugin]().

> ðŸ”® Support for other build systems (such as Parcel) will be added in future releases.

The first step is to install the dependencies:

```
npm install @immutable-styles/core
npm install @immutable-styles/webpack-plugin
```

Next, since immutable styles uses JSX the following devDependencies are required:

```
npm install --save-dev @babel/core
npm install --save-dev @babel/preset-env
npm install --save-dev @babel/plugin-transform-react-jsx
npm install --save-dev @babel/plugin-transform-react-jsx-source
npm install --save-dev babel-loader
```

> ###### Note on Packages

> It would be reasonable to assume the packages `@babel/plugin-transform-react-jsx` and `@babel/plugin-transform-react-jsx-source` indicate that immutable styles is coupled to React. Don't let the package names fool you! These packages enable immutable styles to use JSX and nothing more. Immutable styles is markup agnostic â€“ meaning it isnâ€™t coupled or biased to a specific way of generating HTML.

## Configure Plugin

In `webpack.config.js` add the `ImmutableStylesPlugin`:

```js
var ImmutableStylesPlugin = require('@immutable-styles/webpack-plugin');

module.exports = {
  plugins: [
    new ImmutableStylesPlugin()
  ]
}
```

And then enable source-maps:

```js
module.exports = {
  /* ... */
  devtool: "source-map"
}
```

> ###### Note on Source Maps

> Source maps are required for compile-time errors. If source maps are not enabled the error `Missing Source Maps` will be thrown.

By default the CSS generated by immutable styles is located in `dist/bundle.css`. This can be *optionally* configured when initialising the plugin:

```js
module.exports = {
  plugins: [
    new ImmutableStylesPlugin({
      dist: './custom-path-to-file.css'
    })
  ],
  /* ... */
}
```

Then make sure the immutable style sheets are passed through `babel-loader`:

```js
module.exports = {
  /* .. */
  module: {
    rules: [
      {
        test: /\.iss\.jsx)$/,
        exclude: /node_modules/,
        use: 'babel-loader'
      }
    ]
  },
  /* ... */
]
```

And lastly in `.babelrc` register the following presets and plugins:

```js
{
  "presets": [
    [
      "@babel/preset-env",
      {
        "modules": "commonjs"
      }
    ]
  ],
  "plugins": [
    "@babel/plugin-transform-react-jsx",
    "@babel/transform-react-jsx-source"
  ]
}
```


## Examples

Some examples of using immutable styles with Webpack can be found in the following packages:

- [html-examples](): which shows how to use immutable styles with plain HTML
- [react-examples](): which shows how to use immutable styles with React



